{"version":3,"sources":["js/header/header.js"],"names":["window","addEventListener","scrollFunction","passive","children","Array","from","document","getElementById","headersChildren","lastActive","obj","staffSwiper","undefined","achievementsSwiper","equipmentHidden","setScrollStatus","scrollY","setAttribute","findActiveTab","activeTab","i","length","innerHeight","offsetTop","initSwiper","Swiper","Promise","_","spaceBetween","slidesPerView","freeMode","loop","loopFillGroupWithBlank","autoplay","delay","disableOnInteraction","pauseOnMouseEnter","speed","pagination","el","clickable","hideEquipment","elems","getElementsByClassName","setTab","history","pushState","id"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAAA,MAAM,CAACC,gBAAP,CAAwB,QAAxB,EAAkCC,cAAlC,EAAkD;AAAEC,EAAAA,OAAO,EAAE;AAAX,CAAlD;AACA,IAAMC,QAAQ,GAAGC,KAAK,CAACC,IAAN,CAAWC,QAAQ,CAACC,cAAT,CAAwB,mBAAxB,EAA6CJ,QAAxD,CAAjB;AACA,IAAMK,eAAe,GAAGJ,KAAK,CAACC,IAAN,CAAWC,QAAQ,CAACC,cAAT,CAAwB,gBAAxB,EAA0CJ,QAArD,CAAxB;AACA,IAAIM,UAAU,GAAG,CAAjB;AACA,IAAMC,GAAG,GAAGJ,QAAQ,CAACC,cAAT,CAAwB,QAAxB,CAAZ;AAEA,IAAII,WAAW,GAAGC,SAAlB;AACA,IAAIC,kBAAkB,GAAGD,SAAzB;AACA,IAAIE,eAAe,GAAG,KAAtB;;AAEA,SAASC,eAAT,CAAyBL,GAAzB,EAA8B;AAC5B,MAAIX,MAAM,CAACiB,OAAP,GAAiB,EAArB,EAAyB;AACvBN,IAAAA,GAAG,CAACO,YAAJ,CAAiB,QAAjB,EAA2B,MAA3B;AACD,GAFD,MAEO;AACLP,IAAAA,GAAG,CAACO,YAAJ,CAAiB,QAAjB,EAA2B,OAA3B;AACD;AACF;;AAED,SAASC,aAAT,CAAuBC,SAAvB,EAAkC;AAChC,OAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGjB,QAAQ,CAACkB,MAA7B,EAAqCD,CAAC,EAAtC,EAA0C;AACxC,QAAIrB,MAAM,CAACiB,OAAP,GAAkBjB,MAAM,CAACuB,WAAP,GAAqB,CAAtB,GAA2B,CAA5C,IAAiDnB,QAAQ,CAACiB,CAAD,CAAR,CAAYG,SAAjE,EAA4E;AAC1EJ,MAAAA,SAAS,GAAGC,CAAZ;AACD;AACF;;AACD,SAAOD,SAAP;AACD;;AAED,SAASK,UAAT,GAAsB;AACpB,MAAG,CAACzB,MAAM,CAAC0B,MAAX,EACE;;AAEF,MAAI,CAACd,WAAL,EAAkB;AAChB,QAAIe,OAAJ,CAAY,UAACC,CAAD,EAAO;AACjB,UAAIF,MAAJ,CAAW,gBAAX,EAA6B;AAC3BG,QAAAA,YAAY,EAAE,EADa;AACTC,QAAAA,aAAa,EAAE,MADN;AACcC,QAAAA,QAAQ,EAAE,IADxB;AAC8BC,QAAAA,IAAI,EAAE,IADpC;AAC0CC,QAAAA,sBAAsB,EAAE,IADlE;AACwEC,QAAAA,QAAQ,EAAE;AAC3GC,UAAAA,KAAK,EAAE,CADoG;AACjGC,UAAAA,oBAAoB,EAAE,KAD2E;AACpEC,UAAAA,iBAAiB,EAAE;AADiD,SADlF;AAGxBC,QAAAA,KAAK,EAAE;AAHiB,OAA7B;AAKA1B,MAAAA,WAAW,GAAC,IAAZ;;AACAgB,MAAAA,CAAC;AACF,KARD;AASD;;AACD,MAAI,CAACd,kBAAL,EAAyB;AACvB,QAAIa,OAAJ,CAAY,UAACC,CAAD,EAAO;AACjB,UAAIF,MAAJ,CAAW,6BAAX,EAA0C;AACxCI,QAAAA,aAAa,EAAE,MADyB;AACjBD,QAAAA,YAAY,EAAE,EADG;AACCU,QAAAA,UAAU,EAAE;AACnDC,UAAAA,EAAE,EAAE,iCAD+C;AACZC,UAAAA,SAAS,EAAE;AADC;AADb,OAA1C;AAKA3B,MAAAA,kBAAkB,GAAC,IAAnB;;AACAc,MAAAA,CAAC;AACF,KARD;AASD;AACF;;AAED,SAASc,aAAT,GAAyB;AACvB,MAAI,CAAC3B,eAAL,EAAsB;AACpB,QAAIY,OAAJ,CAAY,UAACC,CAAD,EAAO;AACjB,UAAIe,KAAK,GAAGtC,KAAK,CAACC,IAAN,CAAWC,QAAQ,CAACqC,sBAAT,CAAgC,oBAAhC,EAAsD,CAAtD,EAAyDxC,QAApE,CAAZ;;AAEA,WAAK,IAAIiB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGsB,KAAK,CAACrB,MAA1B,EAAkCD,CAAC,EAAnC,EAAuC;AACrCsB,QAAAA,KAAK,CAACtB,CAAD,CAAL,CAASH,YAAT,CAAsB,QAAtB,EAAgC,MAAhC;AACD;;AACDU,MAAAA,CAAC;AACF,KAPD;AAQAb,IAAAA,eAAe,GAAG,IAAlB;AACD;AACF;;AAED,SAASb,cAAT,GAA0B;AAExBuB,EAAAA,UAAU;AACViB,EAAAA,aAAa;AAEb1B,EAAAA,eAAe,CAACL,GAAD,CAAf;AACA,MAAIS,SAAS,GAAGV,UAAhB;AACAU,EAAAA,SAAS,GAAGD,aAAa,CAACC,SAAD,CAAzB;;AAEA,MAAIA,SAAS,KAAKV,UAAlB,EAA8B;AAC5BmC,IAAAA,MAAM,CAACzB,SAAD,CAAN;AACApB,IAAAA,MAAM,CAAC8C,OAAP,CAAeC,SAAf,CAAyB,IAAzB,EAA8B,IAA9B,EAAmC,MAAI3C,QAAQ,CAACgB,SAAD,CAAR,CAAoB4B,EAA3D;AACD;AACF;;AAED,SAASH,MAAT,CAAgBzB,SAAhB,EAA2B;AACzBX,EAAAA,eAAe,CAACC,UAAD,CAAf,CAA4BQ,YAA5B,CAAyC,QAAzC,EAAmD,OAAnD;AACAT,EAAAA,eAAe,CAACW,SAAD,CAAf,CAA2BF,YAA3B,CAAwC,QAAxC,EAAkD,MAAlD;AACAR,EAAAA,UAAU,GAAGU,SAAb;AACD;;AAED,IAAIO,OAAJ,CAAY,UAACC,CAAD,EAAO;AACjBZ,EAAAA,eAAe,CAACL,GAAD,CAAf;AACAkC,EAAAA,MAAM,CAAC1B,aAAa,CAACT,UAAD,CAAd,CAAN;;AACAkB,EAAAA,CAAC;AACF,CAJD","file":"header.e1941446.js","sourceRoot":"../src","sourcesContent":["window.addEventListener('scroll', scrollFunction, { passive: true });\nconst children = Array.from(document.getElementById('pageContentParent').children);\nconst headersChildren = Array.from(document.getElementById('headerElements').children);\nlet lastActive = 0;\nconst obj = document.getElementById('header');\n\nvar staffSwiper = undefined;\nvar achievementsSwiper = undefined;\nvar equipmentHidden = false;\n\nfunction setScrollStatus(obj) {\n  if (window.scrollY > 50) {\n    obj.setAttribute('scroll', 'true');\n  } else {\n    obj.setAttribute('scroll', 'false');\n  }\n}\n\nfunction findActiveTab(activeTab) {\n  for (let i = 0; i < children.length; i++) {\n    if (window.scrollY + (window.innerHeight / 4) * 3 >= children[i].offsetTop) {\n      activeTab = i;\n    }\n  }\n  return activeTab;\n}\n\nfunction initSwiper() {\n  if(!window.Swiper)\n    return;\n\n  if (!staffSwiper) {\n    new Promise((_) => {\n      new Swiper('.staff__swiper', {\n        spaceBetween: 10, slidesPerView: 'auto', freeMode: true, loop: true, loopFillGroupWithBlank: true, autoplay: {\n          delay: 0, disableOnInteraction: false, pauseOnMouseEnter: true,\n        }, speed: 2200,\n      });\n      staffSwiper=true\n      _();\n    });\n  }\n  if (!achievementsSwiper) {\n    new Promise((_) => {\n      new Swiper('.achievements__swiperParent', {\n        slidesPerView: 'auto', spaceBetween: 15, pagination: {\n          el: '.achievements__swiperPagination', clickable: true,\n        },\n      });\n      achievementsSwiper=true\n      _();\n    });\n  }\n}\n\nfunction hideEquipment() {\n  if (!equipmentHidden) {\n    new Promise((_) => {\n      let elems = Array.from(document.getElementsByClassName('equipment__content')[0].children);\n\n      for (let i = 2; i < elems.length; i++) {\n        elems[i].setAttribute('hidden', 'true');\n      }\n      _();\n    });\n    equipmentHidden = true;\n  }\n}\n\nfunction scrollFunction() {\n\n  initSwiper();\n  hideEquipment();\n\n  setScrollStatus(obj);\n  let activeTab = lastActive;\n  activeTab = findActiveTab(activeTab);\n\n  if (activeTab !== lastActive) {\n    setTab(activeTab);\n    window.history.pushState(null,null,\"#\"+children[activeTab].id)\n  }\n}\n\nfunction setTab(activeTab) {\n  headersChildren[lastActive].setAttribute('active', 'false');\n  headersChildren[activeTab].setAttribute('active', 'true');\n  lastActive = activeTab;\n}\n\nnew Promise((_) => {\n  setScrollStatus(obj);\n  setTab(findActiveTab(lastActive));\n  _();\n});"]}